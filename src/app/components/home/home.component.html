<div class="header">
  <div class="tw-text-24-px tw-font-600">Open Books Library</div>
</div>
<div class="tw-flex tw-flex-row tw-m-24-px">
  <section class="trending-subjects">
    <div class="tw-font-600 tw-text-24-px">Trending Subjects</div>
    <ul class="tw-list-none tw-pl-0">
      <li
        class="tw-text-16-px tw-cursor-pointer tw-p-12-px"
        *ngFor="let subject of trendingSubjects"
        routerLink="/trending-subject/{{ subject.name }}"
      >
        {{ subject.name }}
      </li>
    </ul>
  </section>
  <div class="search">
    <h2>Search Books</h2>
    <div>
      <input
        type="text"
        [(ngModel)]="searchQuery"
        placeholder="Enter a search term"
      />
      <button (click)="search()">Search</button>
    </div>

    <div *ngIf="loading">Loading...</div>

    <div *ngIf="error">
      An error occurred while fetching the search results.
    </div>

    <ul *ngIf="searchResults.length > 0" class="search-results">
      <li *ngFor="let result of searchResults">
        <h3>{{ result.title }}</h3>
        <p>
          {{
            result.author_name
              ? result.author_name.join(', ')
              : 'Unknown Author'
          }}
        </p>
        <p>{{ result.first_publish_year }}</p>
      </li>
    </ul>
  </div>
</div>
